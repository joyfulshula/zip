objectFitImages(),document.addEventListener("lazybeforeunveil",function(e){var t=e.target.getAttribute("data-bg");t&&(e.target.style.backgroundImage="url("+t+")")}),window.lazySizesConfig={addClasses:!0},lazySizesConfig.loadMode=3,jQuery(function(e){if(e("html").hasClass("no-cssgrid")?(e("[data-aos^=fade][data-aos^=fade]").css("opacity","1"),e("[data-aos^=fade][data-aos^=fade]").css("transform","none"),e("head").append('<link rel="stylesheet" type="text/css" href="/wp-content/themes/JBcommercial/assets/css/ie-gte10.css" />')):AOS.init(),e("p:empty").remove(),e(window).scroll(function(){e(window).scrollTop()>e(".header").offset().top+300&&!e(".header").hasClass("header--fixed")?e(".header").addClass("header--fixed").animate({top:"0%"},1e3):0==e(window).scrollTop()&&e(".header").removeClass("header--fixed").css({top:"-100%"})}),e(window).width()>768&&(e(".nav-primary__item--parent").hover(function(){e(this).find(".js-sub-menu").addClass("active")},function(){var t=0,a=2e3;setTimeout(function(){t=1},a),t&&($this=e(this),$this.find(".js-sub-menu").removeClass("active"),$this.find(".nav-primary__sub-list__item").removeClass("active"),$this.find(".nav-primary__sub-list__children").removeClass("active"))}),e(".nav-primary__link--prevent").click(function(e){e.preventDefault()}),e(".nav-primary__sub-list__item--subnav").click(function(t){t.preventDefault();var a=e(this),i=e(this).attr("data-menu"),o=e('.nav-primary__sub-list__children[data-menu="'+i+'"]');return o.hasClass("active")?(o.removeClass("active"),a.removeClass("active")):(e(".nav-primary__sub-list__children").removeClass("active"),e(".nav-primary__sub-list__item").removeClass("active"),o.addClass("active"),a.addClass("active")),!1}),e(".nav-primary__sub-list").mouseout(function(){e(this).removeClass("active")}),e(".nav-primary__sub-list__children").hover(function(){},function(){e(".nav-primary__sub-list__children").removeClass("active")}),e(".js-sub-child-img-hover").hover(function(){var t=e(this).attr("data-sub-child-img");e('.js-sub-child-img[data-sub-child-img="'+t+'"]').addClass("active")},function(){var t=e(this).attr("data-sub-child-img");e('.js-sub-child-img[data-sub-child-img="'+t+'"]').removeClass("active")})),e(".js-burger").click(function(t){t.preventDefault(),e(".nav-mobile--first").addClass("nav-open"),e("body").addClass("overflow-hidden")}),e(".js-nav-mobile-close").click(function(t){t.preventDefault(),e(".nav-mobile--first, .nav-mobile--second, .nav-mobile--third").removeClass("nav-open"),e(".nav-mobile__sub-list, nav-mobile__sub-list__item--subnav").removeClass("active"),e(".nav-mobile__sub-list__item__button").removeClass("active"),e("body").removeClass("overflow-hidden")}),e(".js-nav-mobile-back-second").click(function(t){t.preventDefault(),e(".nav-mobile--second").removeClass("nav-open"),e(".nav-mobile__sub-list").removeClass("active")}),e(".js-nav-mobile-back-third").click(function(t){t.preventDefault(),e(".nav-mobile--third").removeClass("nav-open"),e(".nav-mobile__sub-list__item--subnav").removeClass("active"),e(".nav-mobile__sub-list__item__button").removeClass("active")}),e(".prevent-default").click(function(e){e.preventDefault()}),e(".nav-mobile__link--prevent").click(function(e){e.preventDefault()}),e(".nav-mobile__item--parent").click(function(t){t.preventDefault();var a=e(this).attr("data-parent-menu"),i=e('.js-mobile-sub-menu[data-parent-menu="'+a+'"]');e(".nav-mobile--second").addClass("nav-open"),i.addClass("active")}),e(".nav-mobile__sub-list__item--subnav").click(function(){var t=e(this).attr("data-sub-menu"),a=e(this).attr("data-sub-child-menu"),i=e('.nav-mobile__sub-list__item--subnav[data-sub-menu="'+t+'"]'),o=e('.nav-mobile__sub-list__children[data-sub-child-menu="'+a+'"]');e(".nav-mobile--third").addClass("nav-open"),e(".nav-mobile__sub-list__item__button").addClass("active"),e(i).addClass("active"),e(o).addClass("active")}),e(window).width()>640?e(".nav-footer__item--parent").find(".nav-footer__link").click(function(e){e.preventDefault()}):(e(".nav-footer__item--parent").click(function(){e(this).find(".nav-footer__link").toggleClass("active"),e(this).find(".js-sub-menu").slideToggle()}),e(".nav-footer__item--parent").find(".nav-footer__link").click(function(e){e.preventDefault()})),e(".js-scroll-to").click(function(t){t.preventDefault();var a=0,i=e(this).attr("data-attr-scroll");console.log(i);var o=e("#"+i).attr("data-scroll-offset");o||(o=a),e("html,body").animate({scrollTop:e("#"+i).offset().top-o},500)}),e(".js-header-help").click(function(t){t.preventDefault(),e(".help, .mob-controls").addClass("is-open"),e("body").addClass("overflow-hidden")}),e(".js-header-help-close").click(function(t){t.preventDefault(),e(".help, .mob-controls").removeClass("is-open"),e("body").removeClass("overflow-hidden")}),e("#live-search").length){if(e(window).keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1}),e(window).width()>=767)var t=e("#filter");else var t=e("#mob-filter");e(window).resize(function(){if(e(window).width()>=768){e("#filter")}else{e("#mob-filter")}}),e(t).keyup(function(){e(".accordion__group").removeClass("filter-active"),e(".filtered-accordion").removeClass("filtered-accordion"),e(".faqs__notification").addClass("active");var a=e(this).val(),i=0;if(!e(t).val())return e(".accordion__title").removeClass("active"),e(".accordion__title").show(),e(".accordion__content").slideUp(),e(".faqs__notification").removeClass("active"),e(".accordion__title").removeClass("open"),void e(".faqs__group").removeClass("no-results");e(".faqs__group").addClass("no-results"),e(".accordion__group").addClass("filter-active"),e(".accordion__title, .accordion__content").each(function(){e(t).val(),e(this).hide(),e(this).text().search(new RegExp(a,"i"))<0||(e(this).parents(".faqs__group").removeClass("no-results"),e(this).hasClass("accordion__title")&&(e(this).show(),e(this).addClass("filtered-accordion")),e(this).hasClass("accordion__content")&&(e(this).parent().find(".accordion__title").show(),e(this).parent().find(".accordion__title").addClass("filtered-accordion")))}),e(".accordion__content").hide(),e(".filtered-accordion").parent().show(),e(".filtered-accordion").show();var i=e(".filtered-accordion").length;e(".results-for").html("<span>Search results for:</span> "+a);e(".filter-count").text(i+" results found")})}gumshoe.init({offset:72,activeClass:"active"}),e(".js-accordion-trigger").click(function(t){t.preventDefault(),e(this).hasClass("open")?(e(this).toggleClass("open"),e(this).parent().find("> .accordion__content").stop().slideToggle(),e(this).parents(".accordion").hasClass("opened")&&e(this).parents(".accordion").removeClass("opened")):(e(this).parent().parent().find("> .accordion__group > .accordion__title").removeClass("open"),e(this).parent().parent().find("> .accordion__group > .accordion__content").stop().slideUp(),e(this).toggleClass("open"),e(this).parent().find("> .accordion__content").stop().slideToggle(),e(this).parents(".accordion").hasClass("opened")||e(this).parents(".accordion").addClass("opened")),AOS.refresh()}),e(".js-project-modal-trigger").click(function(t){t.preventDefault();var a=e(this).attr("data-modal");e(".project__modal."+a).addClass("active"),e("body").addClass("overflow-hidden");var i=e(".project__modal."+a+" .js-project-modal-slider");i.hasClass("flickity-enabled")||i.flickity({cellAlign:"center",contain:!1,wrapAround:!0,prevNextButtons:!1,pageDots:!0,adaptiveHeight:!1})}),e(".js-project-modal-close").click(function(t){t.preventDefault(),e(".project__modal").removeClass("active"),e("body").removeClass("overflow-hidden")}),e(".products .product .woocommerce-loop-product .woocommerce-LoopProduct-link").has(".woocommerce-product-gallery").click(function(e){console.log("noclick"),e.preventDefault()}),e(".products .product .woocommerce-loop-product a").has(".woocommerce-product-gallery").click(function(e){console.log("noclick"),e.preventDefault()}),e(".js-modal").click(function(t){t.preventDefault();var a=e(this).data("modal"),i=e(this).attr("data-pdf");e(".modal[data-modal='"+a+"']").addClass("modal--open"),e(".modal[data-modal='"+a+"']").find('input[name="text-pdf"]').val(i),e("body").addClass("overflow-hidden")}),e(".modal, .js-modal-close").click(function(t){t.preventDefault(),e(".modal").hasClass("modal--open")&&(e(".modal").removeClass("modal--open"),e("body").removeClass("overflow-hidden"))}),e(".modal").find(".modal__content").click(function(e){e.stopPropagation()});var a=e(".js-banner-slider").flickity({cellAlign:"center",contain:!1,wrapAround:!1,prevNextButtons:!1,pageDots:!1,adaptiveHeight:!1,setGallerySize:!1,autoPlay:!0,fade:!0,autoPlay:5e3,pauseAutoPlayOnHover:!1}),i=a.data("flickity"),o=e(".js-banner-slider-pips"),s=o.find(".pips__item");a.on("select.flickity",function(){s.filter(".is-selected").removeClass("is-selected"),s.eq(i.selectedIndex).addClass("is-selected")}),o.on("click",".pips__item",function(){var t=e(this).index();a.flickity("select",t)});var n=e(".js-banner-slider-title"),l=n.find(".content__title");a.on("select.flickity",function(){l.filter(".is-selected").removeClass("is-selected"),l.eq(i.selectedIndex).addClass("is-selected")});var c=e(".js-img-content-carousel").flickity({cellAlign:"center",contain:!1,wrapAround:!1,prevNextButtons:!1,pageDots:!0,adaptiveHeight:!1,setGallerySize:!1,autoPlay:!1}),r=(c.data("flickity"),e(".js-img-content-carousel-pips"));r.find(".pips__item");e(".js-img-content-carousel").on("select.flickity",function(){e(this).parents(".col").find(".js-img-content-carousel-pips").find(".pips__item").filter(".is-selected").removeClass("is-selected"),e(this).parents(".col").find(".js-img-content-carousel-pips").find(".pips__item").eq(e(".js-img-content-carousel").data("flickity").selectedIndex).addClass("is-selected")}),e(".js-img-content-carousel-pips").find(".pips__item").on("click",".pips__item",function(){var t=e(this).index();e(this).parents(".js-img-content-carousel").flickity("select",t)});e(".js-product-carousel-image").flickity({prevNextButtons:!1,pageDots:!1,imagesLoaded:!0,fade:!0});e(".js-product-carousel-image");var d=e(".js-product-carousel-thumbs").flickity({cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!0,adaptiveHeight:!0,draggable:!0,imagesLoaded:!0,sync:e(this).parent(".woocommerce-product-gallery__wrapper").find(".js-product-carousel-image")});if(d.on("staticClick.flickity",function(t,a,i,o){i&&e(this).parents(".woocommerce-product-gallery__wrapper").find(".js-product-carousel-image").flickity("select",o)}),e("select").wrap("<div class='dropdown'></div>"),e(".takepayments_cc_details").find("select").wrap("<div class='dropdown'></div>"),e("input[type=checkbox]").click(function(){e(this).toggleClass("checked")}),ouibounce(e("#ouibounce-modal")[0],{cookieExpire:1,cookieName:"ExitCapture",sitewide:!0}),e("body").on("click",function(){e("#ouibounce-modal").hide()}),e("#ouibounce-modal .modal-footer").on("click",function(){e("#ouibounce-modal").hide()}),e("#ouibounce-modal .custom-modal-close").on("click",function(){e("#ouibounce-modal").hide()}),e("#ouibounce-modal .modal").on("click",function(e){e.stopPropagation()}),e(".autocomplete").length){for(var u={componentRestrictions:{}},p=document.getElementsByClassName("autocomplete"),m=0;m<p.length;m++){var v=new google.maps.places.Autocomplete(p[m],u);v.inputId=p[m].id}v.addListener("place_changed",function(){var t=v.getPlace().geometry.location.lat(),a=v.getPlace().geometry.location.lng();e(".js-latitude").val(t),e(".js-longitude").val(a)})}var f;e("#loadmore").click(function(){var t=e(this);return f||(f=t.data("posts-per-page")+1),!t.hasClass("disabled")&&(e.ajax({url:ajaxurl,data:{action:"get_more",offset:f},success:function(t){t&&(e(".cta-blocks").append(t),AOS.refresh())}}),f+=t.data("posts-per-page"),f>=t.data("count-posts")&&t.hide(),!1)}),e("#searchform #s").keyup(function(t){13==t.keyCode&&(console.log("entered"),e(this).parents("#searchform").submit())}),e(".viewmore").click(function(t){t.preventDefault(),e(this).parents(".categories").find(".col").removeClass("hidden")}),e(".categories").flickity({cellAlign:"center",contain:!1,wrapAround:!1,adaptiveHeight:!1,setGallerySize:!1,fade:!0,groupCells:!0}),e(".dropdown_layered_nav_lead-time").change(function(){var t=jQuery(this).val();e(':input[name="filter_lead-time"]').val(t),e(this).attr("multiple")||e(this).closest("form").submit()})});